\chapter{Die Problemstellung}
\label{sec:prob}
	
	Dieses Kapitel soll eine grobe Einführung in die Thematiken Bildverarbeitung und \gls{ocr} bieten und ferner die Motivation für diese Arbeit im Zusammenhang mit der Segmentierung von Bildern aufzeigen. Bei alledem werden auch mögliche Schwierigkeiten bei diesem Vorgang mit in den Blick genommen.
	
	\section{Grundlegendes über Bildverarbeitung}
	\label{sec:bild-basics}
	
		Was ist Bildverarbeitung? - Um diese Frage zu beantworten, wird das Buch \textit{Digital Image Processing} von Rafael C. Gonzalez und Richard E. Woods \cite[S. 1--3]{gonzalez-woods} herangezogen. Die Autoren konstatieren, dass die Meinungen hierzu unter den Fachleuten auseinandergehen. Präzise ausgedrückt, liegt die Meinungsverschiedenheit in der Frage nach der Grenze zwischen der Bildverarbeitung und damit verwandten Bereichen, z.B. dem maschinellen Sehen. Gonzalez und Woods versuchen deshalb, ihre eigene Definition aufzustellen, die hier zum Zwecke der Veranschaulichung ausreichen soll. So beginnen sie damit, eine Unterscheidung von rechnergestützten Prozessen wie folgt vorzunehmen: 
		\begin{description}
			\item[Low-Level] Darunter fallen einfache Operationen direkt am Bild, wie zum Beispiel Rauschreduktion oder die Erhöhung des Kontrastes, oder aber auch simple arithmetische Operationen. Input sowie Output sind jeweils durch ein Bild gegeben.
			\item[Mid-Level] Diese Kategorie von Prozessen zeichnet sich dadurch aus, dass aus einem Bild bestimmte Eigenschaften/Bereiche extrahiert werden, um daraus eine Information zu gewinnen. Während die Eingabe aus einem ganzen Bild besteht, beläuft sich die Ausgabe lediglich auf einen Teil davon bzw. ein bestimmtes Attribut des Bildes. Exemplarisch hierfür kann die Segmentierung angeführt werden, die in dieser Arbeit mit Hilfe der in Abschnitt \ref{sec:de} vorgestellten Methode realisiert werden soll. Bei der Segmentierung wird das Bild in Sub-Bilder eingeteilt, bis die für die jeweilige Anwendung interessante Region klar abgegrenzt im Bild erscheint.
			\item[High-Level] Hier werden die aus den Mid-Level Prozessen erhaltenen Informationen verwendet, um bestimmte Aktionen auszulösen (z.B. im Bezug auf maschinelles Sehen).
		\end{description}
	
		Auf dieser Grundlage fassen Gonzalez und Woods alle Low- und Mid-Level Prozesse zusammen und deckeln dies unter dem Begriff Bildverarbeitung. \\
		
		Ein Bild in diesem Kontext kann aus mathematischer Sicht als eine Funktion $f(x, y)$ von zwei Variablen begriffen werden, die an der Stelle $(x, y)$ etwas zurückliefert, der als \textit{Intensität} interpretiert wird. Diese kann, je nach Farbsystem, entweder ein Skalar (schwarz-weiß) oder ein Tupel von Werten (RGB: 3-Tupel, CMYK: 4-Tupel) sein. 
	
		\glsreset{ocr}
	
	\section{\gls{ocr} und Segmentierung}
	
		\begin{figure}[H]
			\centering
			\includegraphics[width=\linewidth]{Ablauf-OCR_Cheriet-et-al.pdf}
			\caption[typisches \gls{ocr}-Ablaufschema]{Schematische Darstellung des 
				Ablaufs in einem intelligenten \gls{ocr}-System (Nachbildung aus 
				\cite[Seite 7]{cher-et-al-ocr})}
			\label{fig:ocr-system}
		\end{figure}
	
		Einen in der heutigen Zeit zentralen Anwendungsfall für die Bildverarbeitung stellt \gls{ocr} dar. Wie der Name bereits vermuten lässt, ist das Ziel der \gls{ocr}, Zeichen oder Formen aus digitalen Bildern zu extrahieren und weiterzuverarbeiten. Schon in den frühen 1950ern - so bei \cite{cher-et-al-ocr} - haben Forscher nach Möglichkeiten gesucht, auf Papier befindlichen Text mit Hilfe von Rechnerkapazitäten einzulesen, um dem Menschen die mühselige Arbeit des manuellen Abtippens von Dokumenten abzunehmen.

		Damit ein System, wie es auf Abbildung \ref{fig:ocr-system} zu 
		erkennen ist, zuverlässig Zeichen erkennen kann, muss es unter 
		anderem auf die Formen der Zeichen trainiert werden und als Input ein für 
		die Anwendung angemessen segmentiertes Bild erhalten. In Abbildung \ref{fig:seg-example-good} lässt sich an einem Beispiel betrachten, was die Segmentierung eines Bildes bewirkt, wobei dies ein Beispiel für eine gute Segmentierung ist - also eine Segmentierung, nach welcher der Text im Bild korrekt und vollständig gelesen werden konnte:
		\begin{figure}[H]
			\centering
			\subfloat[][unsegmentiertes OriginalBild]{\includegraphics[width=0.48\linewidth]{IMG_3909245}}
			\qquad
			\subfloat[][segmentiertes Bild]{\includegraphics[width=0.48\linewidth]{IMG_3909245-seg-good}}
			\caption{Segmentierung an einem Beispiel (Einteilung in zwei Klassen) - gutes Beispiel}
			\label{fig:seg-example-good}
		\end{figure}
		Dem gegenübergestellt wird ein Exempel einer schlechten Segmentierung in Abbildung \ref{fig:seg-example-bad}:
		\begin{figure}[H]
			\centering
			\subfloat[][unsegmentiertes OriginalBild]{\includegraphics[width=0.48\linewidth]{IMG_3909236}}
			\qquad
			\subfloat[][segmentiertes Bild]{\includegraphics[width=0.48\linewidth]{IMG_3909236-seg-bad}}
			\caption{Segmentierung an einem Beispiel (Einteilung in zwei Klassen) - schlechtes Beispiel}
			\label{fig:seg-example-bad}
		\end{figure}
		Wie auf Abbildung \ref{fig:seg-example-bad}b unschwer zu erkennen ist, werden zu viele Pixel in der Umgebung des ersten und letzten Zeichens schwarz gefärbt, was die Konturen dieser beinahe verschwinden lässt und so dafür sorgt, dass der auf Abbildung \ref{fig:seg-example-bad}a dargestellte Text nicht korrekt erkannt werden kann.\\
		Wie im Buch \cite[Kapitel 10]{gonzalez-woods} von Gonzalez und Woods nachgelesen werden kann, gibt es mehrere Arten, um eine Segmentierung zu realisieren: \textit{Thresholding}, \textit{Edge-Based-Segmentation} und \textit{Region-Based-Segmentation}. Sowohl aus erstgenannter als auch aus letztgenannter Gruppe von Segmentierungsmethoden wird jeweils eine Möglichkeit in den Paragraphen \ref{sec:meth1} und \ref{sec:meth2} eingehend vorgestellt. \\
		Allen Methoden ist gemein, dass im Vorfeld festgelegt werden muss, in wie viele Klassen $K$ das Bild eingeteilt werden soll. 
		
	\subsection{Möglichkeit 1: Gaußsche Annäherung an das Histogramm}
	\label{sec:meth1}
		
		Dieses Vorgehen aus der Gruppe der \textit{Thresholding}-Methoden basiert auf der Arbeit von Erik Cuevas und seinen Kollegen \cite{cuevas-meth1} und zielt darauf ab, das Histogramm eines Bildes mittels einer Summe von Gaußschen Wahrscheinlichkeitsfunktionen zu approximieren und den Fehler zwischen diesen beiden Funktionen zu minimieren.
		
		Ist dies bekannt, existieren $K-1$ \textit{Threshold}-Werte $T_{1}, ... , T_{K-1}$, die in geeigneter Weise bestimmt werden müssen. Sobald das ebenfalls geschehen ist, werden im letzten Schritt alle Pixel des Bildes mittels untenstehender Gleichung \ref{eq:threshold} aus \cite[S. 739]{gonzalez-woods} zugeordnet:
		
		\begin{flalign}
			\centering
			g(x, y) = 
			\begin{cases}
				a_{1} & \textrm{if } f(x, y) > T_{K-1} \\
				a_{2} & \textrm{if } T_{K-2} < f(x, y) \leq T_{K-1} \\
				... \\
				a_{K} & \textrm{if } f(x, y) \leq T_{1}
			\end{cases}
			\label{eq:threshold}
		\end{flalign}
	
	\subsection{Möglichkeit 2: K-Means Clustering}
	\label{sec:meth2}